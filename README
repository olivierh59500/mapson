Building mapSoN:

if downloaded this archive and had no idea what this tool does, it's
probably not a good idea to install it right now because there's
virtually no documentation. Those, who knew the 1.x version, though,
might be lucky and get it up and running. To install mapSoN, just do
the usual

    $ ./configure
    $ make
    $ make install

The last step will possibly require superuser priviliges.

If your using a fairly recent gcc version to compile this, you might
want to try

    $ CXXFLAGS=-frepo ./configure

to configure the build. This will result in a about 30% smaller binary
because unused template instances are optimized out.

On some platforms, largefile support doesn't work yet. If you're
getting compiler errors, give the configure script the option
"--disable-largefile" and try again.


Variables supported in the request-for-confirmation template file:

    md5hash             MD5 hash of the original mail
    envelope            Envelope e-mail address
    sender              Sender e-mail address
    return_path         Return-Path e-mail address
    header              The complete mail header
    body                The complete mail body
    messageid           Message-id of the incoming mail
    from[]              From e-mail addresses
    replyto[]           Reply-To e-mail addresses

    headerlines[]
        Each entry in this array contains the corresponding header
        line. Please note that a "line" in the header may consist of
        multiple actual text lines because of continuation.

    header[]
        Each entry in this array contains the corresponding text line
        of the mail body -- continuation does not occur here.

    body[]
        Each entry in this array contains the corresponding text line
        of the mail body -- continuation does not occur here.

    Please note that any of headerlines[], header[], and body[]
    contain the trailing linefeed ('\n') of the returned line. This
    may skew your formatting if you're not careful.


Things to do:

    o Re-write address_db to be reusable and to be more efficient.

    o Support headers

       "Message-Id:"        "<" addr-spec ">"
       "References:"        *(phrase / msg-id)
       "In-Reply-To:"       *(phrase / msg-id)

      in strict-parser mode.

    o Don't log with syslog(3); write to a file instead.

    o Convert libmd5 to uint32_t and stdint.h.

    o Add last-used timestamps to each address in the database.

    o Add headers to the mails mapSoN processes and tell the user what
      went on.

    o Read the user's config file and fall back to the global one, if
      the user doesn't have one.

    o Try to create the all directories in the user's home
      automatically.

    o Make the gather-addresses mode handle the mailbox format.

    o Add an option that tells mapSoN to create missing parent
      directories on the fly, if it wants to write to the spool
      directory or to the address database.

    o Make another template that does not use columns.

    o Document the fact that the sample template file requires
      procmail.
